# lol! itg3.
################################################################################
[Common]
AutoSetStyle=false
################################################################################
# base items
[PlayerStageStats]
NumGradeTiersUsed=17
GradeTier02IsAllW2s=false
GradePercentTier01=1.00  -- quad star
GradePercentTier02=0.99  -- triple star
GradePercentTier03=0.98  -- double star
GradePercentTier04=0.96  -- single star
GradePercentTier05=0.94  -- S+
GradePercentTier06=0.92  -- S
GradePercentTier07=0.89  -- S-
GradePercentTier08=0.86  -- A+
GradePercentTier09=0.83  -- A
GradePercentTier10=0.80  -- A-
GradePercentTier11=0.76  -- B+
GradePercentTier12=0.72  -- B
GradePercentTier13=0.68  -- B-
GradePercentTier14=0.64  -- C+
GradePercentTier15=0.60  -- C
GradePercentTier16=0.55  -- C-
GradePercentTier17=-1000 -- D

[RollingNumbers]
# no communists
Commify=false
DiffuseLeadingZeroes=false

[CodeDetector]
ModeMenu1="MenuLeft-MenuRight-Start"
ModeMenu2="Up,Down,Up,Down"
################################################################################
# layers
[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+65
CreditsP1Y=SCREEN_BOTTOM-11
CreditsP1OnCommand=shadowlength,0;halign,0;valign,1;zoom,.5
CreditsP2X=SCREEN_RIGHT-65
CreditsP2Y=SCREEN_BOTTOM-11
CreditsP2OnCommand=shadowlength,0;halign,1;valign,1;zoom,.5
################################################################################
# classes/screen fallbacks
[ScreenWithMenuElements]
ShowHeader=true
HeaderX=
HeaderY=
HeaderOnCommand=draworder,100;addy,-100;decelerate,0.8;addy,100
HeaderOffCommand=accelerate,0.5;addy,-100

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM-17-14
FooterOnCommand=draworder,10
FooterOffCommand=

TimerX=SCREEN_LEFT+86
TimerY=SCREEN_TOP+35
TimerOnCommand=draworder,101;addy,-100;decelerate,0.8;addy,100
TimerOffCommand=accelerate,.7;addy,-200
#========#
[ScreenOptions]
PageX=SCREEN_CENTER_X
PageY=SCREEN_CENTER_Y+19

RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y(SCREEN_CENTER_Y-116+28*offsetFromCenter) \
end

ShowScrollBar=true
ScrollBarX=SCREEN_CENTER_X-285
ScrollBarY=SCREEN_CENTER_Y+2
ScrollBarHeight=230
ScrollBarTime=.2

ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1000;valign,0;halign,0;cropright,1;linear,0.5;cropright,0
ExplanationP1X=SCREEN_CENTER_X-288
ExplanationP1Y=SCREEN_CENTER_Y+134
ExplanationP1OnCommand=zoom,0.5;wrapwidthpixels,550;vertalign,top;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)
ExplanationP2X=SCREEN_CENTER_X+288
ExplanationP2Y=SCREEN_CENTER_Y+134
ExplanationP2OnCommand=zoom,0.5;wrapwidthpixels,550;vertalign,top;halign,1;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_2)

DisqualifyP1X=SCREEN_CENTER_X-160
DisqualifyP1Y=SCREEN_CENTER_Y+111
DisqualifyP1OnCommand=zoom,0.5;glowshift;effectcolor2,color("1,.9,0.2,0.8")
DisqualifyP1OffCommand=
DisqualifyP2X=SCREEN_CENTER_X+160
DisqualifyP2Y=SCREEN_CENTER_Y+111
DisqualifyP2OnCommand=zoom,0.5;glowshift;effectcolor2,color(".4,1,.2,0.8")
DisqualifyP2OffCommand=

ShowExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+108

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+112
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=


[OptionRow]
ShowBpmInSpeedTitle=true

TitleX=SCREEN_CENTER_X-270
TitleOnCommand=shadowlength,0;zoom,.5;horizalign,left;maxwidth,180
TitleGainFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,1")

ItemsStartX=SCREEN_CENTER_X-170
ItemsEndX=SCREEN_CENTER_X+300
ItemsGapX=10
ItemsOnCommand=shadowlength,0;zoom,0.5
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X+20

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("#808080FF")
ColorDisabled=color("0.5,0.5,0.5,1")

[OptionsUnderline]

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftY=0
MiddleY=0
RightY=0

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftY=0
MiddleY=0
RightY=0

[ScreenAttract]
ShowHeader=false
ShowFooter=false

################################################################################
# concrete screens
[ScreenTitleMenu]
ShowHeader=false

ChoiceNames="01,06,07,09,11"
DefaultChoice="01"
Choice01="applydefaultoptions;text,Game Start;screen,"..Branch.StartGame()
Choice06="screen,ScreenJukeboxMenu;text,Jukebox"
Choice07="text,Edit/Share;screen,"..Branch.OptionsEdit()
Choice09="screen,ScreenOptionsService;text,Options"
Choice11="screen,ScreenExit;text,Exit"

ScrollerX=SCREEN_RIGHT-20
ScrollerY=SCREEN_CENTER_Y+35
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(20*offset); end
################################################################################
[ScreenProfileLoad]
ShowHeader=false
ShowFooter=false
[ScreenProfileSave]
ShowHeader=false
ShowFooter=false
################################################################################
# xxx: this needs to be flipped; select playmode comes first, then style/numplayers
[ScreenSelectStyle]
ChoiceNames="1,2,3"
Choice1="style,single;difficulty,medium;screen,"..Branch.AfterSelectStyle()
Choice2="style,versus;difficulty,medium;screen,"..Branch.AfterSelectStyle()
Choice3="style,double;difficulty,medium;screen,"..Branch.AfterSelectStyle()

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=false

PerChoiceScrollElement=true
ScrollerX=SCREEN_CENTER_X+100
ScrollerY=SCREEN_CENTER_Y+82
ScrollerOnCommand=%function(self) self:z(-200); self:SetDrawByZPosition(false) end
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) local theta=offset*math.pi*2/numItems; self:y(math.sin(theta)*150); self:z(math.cos(theta)*200); self:x(self:GetZ()/-3); local focus=scale(self:GetZ(),0,200,-1,1); focus=clamp(focus,0,1); local bright=scale(focus,0,1,0.15,1);  self:diffuse(bright,bright,bright,1); local zoomv=scale(focus,0,1,0.0,1); self:zoom(zoomv); end
ScrollerSecondsPerItem=0.01
ScrollerNumItemsToDraw=15
ScrollGainFocusCommand=zoomz,1.1
ScrollLoseFocusCommand=zoomz,1

[ScreenSelectPlayMode]
ChoiceNames="1,2,3,4"
Choice1="playmode,regular;screen,ScreenSelectMusic"
Choice2="playmode,rave;screen,ScreenSelectMusic"
Choice3="playmode,nonstop;screen,ScreenSelectCourse"
Choice4="playmode,oni;screen,ScreenSelectCourse;mod,lifetime"

PerChoiceScrollElement=true
ScrollerX=SCREEN_CENTER_X-60
ScrollerY=SCREEN_CENTER_Y+70
ScrollerOnCommand=%function(self) self:z(-200); self:SetDrawByZPosition(false) end
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) local theta=offset*math.pi*2/numItems; self:y(math.sin(theta)*200); self:z(math.cos(theta)*200); self:x(self:GetZ()/2.8); local focus=scale(self:GetZ(),0,200,-1,1); focus=clamp(focus,0,1); local bright=scale(focus,0,1,0.3,1); self:diffuse(bright,bright,bright,1); local zoomv=scale(focus,0,1,0.0,1); self:zoom(zoomv); end
ScrollerNumItemsToDraw=15
ScrollerSecondsPerItem=0.01
ScrollGainFocusCommand=zoomz,1.1
ScrollLoseFocusCommand=zoomz,1

################################################################################
[ScreenSelectMusic]
UseOptionsList=false
UsePlayerSelectMenu=false
SelectMenuAvailable=DifficultyChangingAvailable() and ModeMenuAvailable()
ModeMenuAvailable=ModeMenuAvailable()

MusicWheelX=SCREEN_CENTER_X-210
MusicWheelY=SCREEN_CENTER_Y-10
MusicWheelOnCommand=sleep,0.5;addx,20;ztest,true;z,0;draworder,90
MusicWheelOffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

BannerX=SCREEN_CENTER_X+140
BannerY=SCREEN_CENTER_Y-94
BannerOnCommand=scaletoclipped,320,120;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;zwrite,true;ztest,true
BannerOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

BannerReflectionX=SCREEN_CENTER_X+140
BannerReflectionY=SCREEN_CENTER_Y+26
BannerReflectionOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
BannerReflectionOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

ArtistDisplayX=SCREEN_CENTER_X-14
ArtistDisplayY=SCREEN_CENTER_Y-6
ArtistDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
ArtistDisplayOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

BPMDisplayX=SCREEN_CENTER_X+295
BPMDisplayY=SCREEN_CENTER_Y-6
BPMDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
BPMDisplayOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

StepsDisplayListX=SCREEN_CENTER_X+132
StepsDisplayListY=SCREEN_CENTER_Y+24
StepsDisplayListOnCommand=zoom,0.94;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
StepsDisplayListOffCommand=accelerate,0.75;addx,SCREEN_WIDTH
StepsDisplayListShowCommand=
StepsDisplayListHideCommand=

TriangleX=SCREEN_CENTER_X-60
TriangleY=SCREEN_CENTER_Y-10

StepsDisplayP1X=SCREEN_CENTER_X-66
StepsDisplayP1Y=SCREEN_BOTTOM-93
StepsDisplayP1OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,0.55;bounceend,0.3;zoom,.8
StepsDisplayP1OffCommand=bouncebegin,0.2;zoom,0
StepsDisplayP2X=SCREEN_CENTER_X+66
StepsDisplayP2Y=SCREEN_BOTTOM-93
StepsDisplayP2OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,0.55;bounceend,0.3;zoom,.8
StepsDisplayP2OffCommand=bouncebegin,0.2;zoom,0

SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-32
SongOptionsOnCommand=visible,false;zoom,0.5;shadowlength,2;diffuse,1,1,1,0;linear,0.5;diffuse,1,1,1,1
SongOptionsOffCommand=linear,0.5;diffuse,1,1,1,0

[MusicWheel]
NumWheelItems=14
ShowRandom=true
ShowPortal=true
ShowRoulette=false

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:x( (1-math.cos(offsetFromCenter/math.pi))*65 ); \
	self:y( offsetFromCenter*40 ); \
end

HighlightOnCommand=blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFFFF");effectcolor2,color("#000000");effectoffset,0;effectclock,'beat'

ScrollBarHeight=300
ScrollBarOnCommand=visible,false

[MusicWheelItem]
WheelNotifyIconX=0
WheelNotifyIconOnCommand=

SectionExpandedX=72
SectionExpandedY=0
SectionExpandedOnCommand=shadowlength,2.5;zoom,.6;halign,1;shadowlength,2;maxwidth,SCREEN_WIDTH/1.85
SectionExpandedSetMessageCommand=diffuse,color("#00FFFF");
SectionCollapsedX=72
SectionCollapsedY=0
SectionCollapsedOnCommand=shadowlength,2.5;zoom,.6;halign,1;shadowlength,2;maxwidth,SCREEN_WIDTH/1.85
SectionCollapsedSetMessageCommand=diffuse,color("#00FFFF");

SectionCountX=100
SectionCountY=0
SectionCountOnCommand=shadowlength,2.5;zoom,.45;halign,1;shadowlength,2;

RandomX=110
RandomOnCommand=zoom,.6;halign,1;shadowlength,1;
PortalX=110
PortalOnCommand=zoom,.6;halign,1;shadowlength,1;

[TextBanner]
TitleX=104
TitleOnCommand=zoom,.5;shadowlength,2;halign,1;valign,0.5;maxwidth,SCREEN_WIDTH/1.45
SubtitleX=104
SubtitleOnCommand=zoom,0.35;shadowlength,2;halign,1;valign,0.5

[BPMDisplay]
Cycle=false
NoBpmText="..."

SetNoBpmCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetNormalCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetChangeCommand=stoptweening;stopeffect;diffuse,color("#d8f6ffFF");maxwidth,120
SetRandomCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetExtraCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120

[StepsDisplay]
ShowMeter=true
MeterX=0
MeterY=0

ShowTicks=false
ShowDescription=false

[StepsDisplayList]
ItemsSpacingY=18.5
NumShownItems=5
CapitalizeDifficultyNames=true
MoveCommand=finishtweening;linear,.3

[StepsDisplayListRow]
ShowDescription=true
DescriptionX=-44
DescriptionY=0
DescriptionOnCommand=halign,1;zoom,.5;shadowlength,2;uppercase,true;maxwidth,112
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
	if param.Steps and param.Steps:IsAnEdit() and param.Steps:GetDescription() == "" then \
		self:settext("UNTITLED") \
	end \
end

ShowTicks=true
NumTicks=12
MaxTicks=12
TicksX=-41
TicksY=1
TicksOnCommand=halign,0;shadowlength,1;
TicksSetCommand=%function(self,param) if param.CustomDifficulty then self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) end end

ShowMeter=true
MeterX=135
MeterY=0
MeterOnCommand=zoom,.5;shadowlength,2
MeterSetCommand=%function(self,param) if param.CustomDifficulty then self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) end end
################################################################################
[ScreenPlayerOptions]
#Speed,Persp,NoteSkins,Scroll,Accel,Effect,Effect2,Effect3,Appearance,Handicap,
#Handicap2,Turn,InsertTaps,InserOther,Hide,Steps,Rotation,Effect4,
#TournamentOptions,ShowStats,ShowModifiers,Orientation,Playfield,Rate,ScreenFilter,
#ScoreDisplay,TimingScale

################################################################################
[ScreenStageInformation]
TimerSeconds=3
TimerStealth=true
ShowHeader=false
ShowFooter=false
################################################################################
[ScreenGameplay]
ShowHeader=false
ShowFooter=false

LifeP1X=(SCREEN_LEFT+20)+GetLifebarAdjustment()
LifeP1Y=OffsetLifebarHeight(PLAYER_1)
LifeP1OnCommand=rotationz,-90;addx,-100;sleep,0.5;decelerate,0.8;addx,100;draworder,-1;
#visible,HideLife(PLAYER_1)
#LifeP1OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end
LifeP1OffCommand=accelerate,0.4;addx,-100

LifeP2X=(SCREEN_RIGHT-20)-GetLifebarAdjustment()
LifeP2Y=OffsetLifebarHeight(PLAYER_2)
LifeP2OnCommand=rotationz,90;zoomx,-1;addx,100;sleep,0.5;decelerate,0.8;addx,-100;DrawOrder,-1;
#visible,HideLife(PLAYER_2)
#LifeP2OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end
LifeP2OffCommand=accelerate,0.4;addx,100

ScoreP1X=math.floor(scale(0.25,0,1,SCREEN_LEFT,SCREEN_RIGHT))-18
ScoreP1Y=SCREEN_TOP+61
#ScoreP1OnCommand=@"shadowlength,0;addy,-100;" .. DoublesScoreCenterP1() .."sleep,0.5;decelerate,0.8;addy,100;hidden," .. IsScoreHidden(PLAYER_1)
#ScoreP1OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end self:accelerate(0.8); self:addy(-100); end
ScoreP1OffCommand=accelerate,0.8;addy,-100

ScoreP2X=math.floor(scale(0.75,0,1,SCREEN_LEFT,SCREEN_RIGHT))+20
ScoreP2Y=SCREEN_TOP+61
#ScoreP2OnCommand=@"shadowlength,0;addy,-100;" .. DoublesScoreCenterP2() .."sleep,0.5;decelerate,0.8;addy,100;hidden," .. IsScoreHidden(PLAYER_2)
#ScoreP2OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end self:accelerate(0.8); self:addy(-100); end
ScoreP2OffCommand=accelerate,0.8;addy,-100

StepsDisplayP1X=SCREEN_CENTER_X-240
StepsDisplayP1Y=SCREEN_TOP+28
StepsDisplayP1OnCommand=draworder,101;addx,-SCREEN_WIDTH/3;sleep,2;decelerate,0.5;addx,SCREEN_WIDTH/3
StepsDisplayP1OffCommand=accelerate,0.8;addx,-SCREEN_WIDTH/3

StepsDisplayP2X=SCREEN_CENTER_X+240
StepsDisplayP2Y=SCREEN_TOP+28
StepsDisplayP2OnCommand=draworder,101;addx,SCREEN_WIDTH/3;sleep,2;decelerate,0.5;addx,-SCREEN_WIDTH/3
StepsDisplayP2OffCommand=accelerate,0.8;addx,SCREEN_WIDTH/3

[StepsDisplayGameplay]
Fallback="StepsDisplay"

ShowDescription=true
DescriptionOnCommand=zoom,0.5;shadowlength,2;
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ContrastingDifficultyColor(param.CustomDifficulty));\
	end \
end;

ShowMeter=true
MeterX=30
MeterY=0
MeterOnCommand=zoom,0.5;shadowlength,2;
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ContrastingDifficultyColor(param.CustomDifficulty));\
	end \
end;

[StepsDisplayGameplay P1]
Fallback="StepsDisplayGameplay"
DescriptionX=-14
MeterX=30

[StepsDisplayGameplay P2]
Fallback="StepsDisplayGameplay"
DescriptionX=14
MeterX=-30

[LifeMeterBar]
DangerThreshold=0.3

[StreamDisplay]
NumPills=1
TextureCoordScaleX=1
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local native_width=272; \
	local zoomed_width=18; \
	self:zoomtowidth(native_width); \
	self:x(itemIndex*zoomed_width); \
end

[Judgment]
JudgmentW1Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;glowshift;effectperiod,0.05;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.5");decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW2Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW3Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW4Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;zoom,0
JudgmentW5Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;zoom,0
JudgmentMissCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;zoom,0

[Combo]
ShowComboAt=4

NumberMinZoom=0.9
NumberMaxZoom=1.4
NumberMaxZoomAt=500
NumberOnCommand=y,20;shadowlength,0;horizalign,center;vertalign,bottom

LabelOnCommand=y,14;shadowlength,0;horizalign,center;vertalign,top

FullComboW1Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#94EBFE");effectperiod,0.5
FullComboW2Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FDD599");effectperiod,0.5
FullComboW3Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#4dfc8f");effectperiod,0.5
FullComboBrokenCommand=stopeffect
MissComboCommand=stopeffect;diffuseshift;effectcolor1,color("#FF2020");effectcolor2,color("#FF2020");effectperiod,0.5

################################################################################
[ScreenEvaluation]
ShowHeader=true

BannerWidth=176
BannerHeight=70
LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_CENTER_Y+135
LargeBannerOffCommand=stoptweening;linear,0.2;diffusealpha,0
LargeBannerOnCommand=ztest,true;cropright,1.3;faderight,0.1;sleep,3;linear,0.7;cropright,-0.3
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y+135
LargeBannerFrameOnCommand=diffusealpha,0;sleep,3;linear,0.5;diffusealpha,1
LargeBannerFrameOffCommand=stoptweening;linear,0.2;diffusealpha,0

ShowGradeArea=true
GradeFrameP1X=SCREEN_CENTER_X-145
GradeFrameP1Y=SCREEN_CENTER_Y+54
GradeFrameP1OffCommand=
GradeFrameP1OnCommand=draworder,3
#--#
GradeFrameP2X=SCREEN_CENTER_X+145
GradeFrameP2Y=SCREEN_CENTER_Y+54
GradeFrameP2OffCommand=
GradeFrameP2OnCommand=draworder,3
#----#
GradeP1X=SCREEN_CENTER_X-160+EvalX()
GradeP1Y=SCREEN_CENTER_Y-60
GradeP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
GradeP1OnCommand=draworder,101;zoom,0;diffusealpha,0;sleep,.5;bounceend,.4;zoom,1.8;diffusealpha,1;sleep,2;decelerate,0.5;zoom,1;x,SCREEN_CENTER_X-56+EvalX();y,SCREEN_CENTER_Y+48
GradeP2X=SCREEN_CENTER_X+160+EvalX()
GradeP2Y=SCREEN_CENTER_Y-60
GradeP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()
GradeP2OnCommand=draworder,101;zoom,0;diffusealpha,0;sleep,.5;bounceend,.4;zoom,1.8;diffusealpha,1;sleep,2;decelerate,0.5;zoom,1;x,SCREEN_CENTER_X+56+EvalX();y,SCREEN_CENTER_Y+48

ShowJudgmentLineW1=true
ShowJudgmentLineW2=true
ShowJudgmentLineW3=true
ShowJudgmentLineW4=true
ShowJudgmentLineW5=true
ShowJudgmentLineMiss=true
ShowJudgmentLineMaxCombo=true

W1NumberP1X=SCREEN_CENTER_X-150
W1NumberP1Y=SCREEN_CENTER_Y-141
W1NumberP1OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W1NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W1NumberP2X=SCREEN_CENTER_X+149
W1NumberP2Y=SCREEN_CENTER_Y-141
W1NumberP2OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W1NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W2NumberP1X=SCREEN_CENTER_X-156
W2NumberP1Y=SCREEN_CENTER_Y-116
W2NumberP1OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W2NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W2NumberP2X=SCREEN_CENTER_X+155
W2NumberP2Y=SCREEN_CENTER_Y-116
W2NumberP2OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W2NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W3NumberP1X=SCREEN_CENTER_X-162
W3NumberP1Y=SCREEN_CENTER_Y-91
W3NumberP1OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W3NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W3NumberP2X=SCREEN_CENTER_X+161
W3NumberP2Y=SCREEN_CENTER_Y-91
W3NumberP2OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W3NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W4NumberP1X=SCREEN_CENTER_X-168
W4NumberP1Y=SCREEN_CENTER_Y-66
W4NumberP1OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W4NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W4NumberP2X=SCREEN_CENTER_X+167
W4NumberP2Y=SCREEN_CENTER_Y-66
W4NumberP2OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W4NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W5NumberP1X=SCREEN_CENTER_X-174
W5NumberP1Y=SCREEN_CENTER_Y-41
W5NumberP1OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W5NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W5NumberP2X=SCREEN_CENTER_X+173
W5NumberP2Y=SCREEN_CENTER_Y-41
W5NumberP2OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W5NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

MissNumberP1X=SCREEN_CENTER_X-180
MissNumberP1Y=SCREEN_CENTER_Y-16
MissNumberP1OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
MissNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
MissNumberP2X=SCREEN_CENTER_X+179
MissNumberP2Y=SCREEN_CENTER_Y-16
MissNumberP2OnCommand=draworder,4;zoom,0.6;diffusebottomedge,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
MissNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

MaxComboNumberP1X=SCREEN_CENTER_X-56
MaxComboNumberP1Y=SCREEN_CENTER_Y-142+13*5
MaxComboNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffusebottomedge,PlayerColor(PLAYER_1);shadowlength,0;halign,1;diffusealpha,0;sleep,4;linear,0.8;diffusealpha,1
MaxComboNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
MaxComboNumberP2X=SCREEN_CENTER_X+113
MaxComboNumberP2Y=SCREEN_CENTER_Y-142+13*5
MaxComboNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffusebottomedge,PlayerColor(PLAYER_2);shadowlength,0;halign,1;diffusealpha,0;sleep,4;linear,0.8;diffusealpha,1
MaxComboNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

PlayerOptionsP1X=SCREEN_CENTER_X-64
PlayerOptionsP1Y=SCREEN_CENTER_Y-35
PlayerOptionsP1OnCommand=draworder,1;zoom,0.4;wrapwidthpixels,192;shadowlength,2;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1 
PlayerOptionsP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
PlayerOptionsP2X=SCREEN_CENTER_X+64
PlayerOptionsP2Y=SCREEN_CENTER_Y-35
PlayerOptionsP2OnCommand=draworder,1;zoom,0.4;wrapwidthpixels,192;shadowlength,2;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
PlayerOptionsP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

#ShowDetailArea=true

[ScreenEvaluationNormal]
Fallback="ScreenEvaluation"
ShowHeader=true

ShowLifeGraph=false
LifeGraphP1X=SCREEN_CENTER_X-145
LifeGraphP1Y=SCREEN_CENTER_Y+169
LifeGraphP1OnCommand=stretchto,SCREEN_CENTER_X-296,SCREEN_CENTER_Y+103,SCREEN_CENTER_X-104,SCREEN_CENTER_Y+169;DrawOrder,1;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
LifeGraphP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
LifeGraphP2X=SCREEN_CENTER_X+145
LifeGraphP2Y=SCREEN_CENTER_Y+169
LifeGraphP2OnCommand=stretchto,SCREEN_CENTER_X+104,SCREEN_CENTER_Y+103,SCREEN_CENTER_X+296,SCREEN_CENTER_Y+169;DrawOrder,1;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
LifeGraphP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowComboGraph=true
ComboGraphP1X=SCREEN_CENTER_X-200
ComboGraphP1Y=SCREEN_CENTER_Y+186
ComboGraphP1OnCommand=ztest,1;draworder,2;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
ComboGraphP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
ComboGraphP2X=SCREEN_CENTER_X+200
ComboGraphP2Y=SCREEN_CENTER_Y+186
ComboGraphP2OnCommand=ztest,1;draworder,2;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
ComboGraphP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

[ComboGraph]
BodyWidth=192

[ComboGraphP1]
Fallback="ComboGraph"

[ComboGraphP2]
Fallback="ComboGraph"